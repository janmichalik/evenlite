{"version":3,"file":"bundle.js","mappings":"mBA8BA,SAASA,KCvBF,W,0CACL,IACE,MAAMC,QAAiBC,MAAM,gDACvBC,QAAmBF,EAASG,OAClCC,QAAQC,IAAI,gBAAgBH,EAAKI,QACnC,CAAE,MAAOC,GACPH,QAAQI,MAAM,sBAAuBD,EACvC,CACF,E,+QDgBEE,EACF,CAEA,SAASC,IACT,CAEA,SAASC,IACT,CAQAC,SAASC,iBAAiB,mBArC1B,YETO,WACH,IAAIC,EAA6B,EACjC,MAAMC,EAA6BH,SAASI,cAAc,WACrDD,GACLE,OAAOJ,iBAAiB,SAAU,KAC9B,MAAMK,EAAwBD,OAAOE,QACjCD,EAAwBD,OAAOG,YAC3BF,EAAwBJ,EACxBC,EAAOM,UAAUC,IAAI,kBAErBP,EAAOM,UAAUE,OAAO,kBAG5BR,EAAOM,UAAUC,IAAI,kBAEzBR,EAAqBI,GAE7B,CFPEM,GACA,MAAMC,EAAgBb,SAASc,KAAKL,UAC9BM,EAAgC,CACpCC,KAAM7B,EACN8B,OAAQnB,EACRoB,QAASnB,GA0B+BC,SAASmB,eAAe,mBGxC7D,W,0CACL,MAAMC,EAAYpB,SAASmB,eAAe,kBAE1C,IACMC,IAAaA,EAAUC,UAAY,gBACvC,MAAMjC,QAAiBC,MAAMiC,OAAOC,QAAS,CAC3CC,OAAQ,OACRC,QAAS,CACP,eAAgB,qCAElBX,KAAM,IAAIY,gBAAgB,CAAEC,OAAQ,qBAGtC,IAAKvC,EAASwC,GACZ,MAAM,IAAIC,MAAM,cAAczC,EAAS0C,UAGzC,MAAMxC,QAAaF,EAASG,OAExB6B,IACFA,EAAUC,UAAY/B,EAAKyC,IAAKC,GAAc,yBAC9BA,EAAKC,SAASD,EAAKtC,yBAChCwC,KAAK,IAEZ,CAAE,MAAOtC,GACPJ,QAAQI,MAAM,cAAeA,EAC/B,CACF,E,+QHeEuC,GAzBAtB,EAAcuB,QAASC,IACrB,MAAMC,EAASvB,EAAiBsB,GAC5BC,GACFA,KAGN,E","sources":["webpack://jmic-blank/./ts/main.ts","webpack://jmic-blank/./ts/http/restTest.ts","webpack://jmic-blank/./ts/header/headerScroll.ts","webpack://jmic-blank/./ts/http/fetchPosts.ts"],"sourcesContent":["import '../scss/main.scss';\nimport { setupHeaderScroll } from './header/headerScroll';\nimport { restTest } from './http/restTest';\nimport { fetchPosts } from './http/fetchPosts';\n\ntype PageInitMap = {\n  [key: string]: () => void;\n};\n\nfunction initDOM(): void {\n  setupHeaderScroll();\n  const bodyClassList = document.body.classList;\n  const pageInitializers: PageInitMap = {\n    home: initHomePage,\n    single: initSinglePage,\n    archive: initArchivePage,\n  };\n  initGlobal();\n  bodyClassList.forEach((cls) => {\n    const initFn = pageInitializers[cls];\n    if (initFn) {\n      initFn();\n    }\n  });\n}\n\nfunction initGlobal(): void {\n  initFetchPosts();\n}\n\nfunction initHomePage(): void {\n  restTest();\n}\n\nfunction initSinglePage(): void {\n}\n\nfunction initArchivePage(): void {\n}\n\nfunction initFetchPosts(): void {\n  const postContainer: HTMLElement | null = document.getElementById('post-container');\n  if (!postContainer) return;\n  fetchPosts();\n}\n\ndocument.addEventListener('DOMContentLoaded', initDOM);\n","interface Post {\n  userId: number;\n  id: number;\n  title: string;\n  body: string;\n}\n\nexport async function restTest(): Promise<void> {\n  try {\n    const response = await fetch('https://jsonplaceholder.typicode.com/posts/1');\n    const data: Post = await response.json();\n    console.log(`Tytuł posta: ${data.title}`);\n  } catch (err) {\n    console.error('Coś poszło nie tak:', err);\n  }\n}\n","export function setupHeaderScroll(): void {\n    let lastScrollPosition: number = 0;\n    const header: HTMLElement | null = document.querySelector('.header');\n    if (!header) return;\n    window.addEventListener('scroll', () => {\n        const currentScrollPosition = window.scrollY;\n        if (currentScrollPosition > window.innerHeight) {\n            if (currentScrollPosition < lastScrollPosition) {\n                header.classList.add('header--active');\n            } else {\n                header.classList.remove('header--active');\n            }\n        } else {\n            header.classList.add('header--active');\n        }\n        lastScrollPosition = currentScrollPosition;\n    });\n}\n","declare const wpData: { ajaxurl: string };\nexport async function fetchPosts(): Promise<void> {\n  const container = document.getElementById('post-container');\n\n  try {\n    if (container) { container.innerHTML = 'Ładowanie...' };\n    const response = await fetch(wpData.ajaxurl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: new URLSearchParams({ action: 'get_posts_list' }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`Błąd HTTP: ${response.status}`);\n    }\n\n    const data = await response.json();\n\n    if (container) {\n      container.innerHTML = data.map((post: any) => `\n        <p><a href=\"${post.link}\">${post.title}</a></p>\n      `).join('');\n    }\n  } catch (error) {\n    console.error('Błąd fetch:', error);\n  }\n}\n"],"names":["initHomePage","response","fetch","data","json","console","log","title","err","error","restTest","initSinglePage","initArchivePage","document","addEventListener","lastScrollPosition","header","querySelector","window","currentScrollPosition","scrollY","innerHeight","classList","add","remove","setupHeaderScroll","bodyClassList","body","pageInitializers","home","single","archive","getElementById","container","innerHTML","wpData","ajaxurl","method","headers","URLSearchParams","action","ok","Error","status","map","post","link","join","fetchPosts","forEach","cls","initFn"],"sourceRoot":""}